model Document {
    id    String @id @default(cuid())
    title String // Dosyanın orijinal adı. (örn: fizik_notlari.pdf)

    s3key    String @map("s3_key")
    mimeType String @map("mime_type")
    size     Int

    status ProcessingStatus @default(PENDING)

    userId String @map("user_id")
    user   Users  @relation(fields: [userId], references: [id])

    workspaceId String?    @map("workspace_id")
    workspace   Workspace? @relation(fields: [workspaceId], references: [id])

    extractedTextKey String?

    chunks        DocumentChunk[]
    documentState DocumentState?

    errorMessage String? // Hata oluşursa eğer hata mesajını burada tutuyoruz.

    createdAt DateTime @default(now()) @map("created_at")
    updatedAt DateTime @updatedAt @map("updated_at")

    @@map("documents")
}
